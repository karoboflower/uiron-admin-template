(function(k,T,h,_){"use strict";var v;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(v||(v={}));var l;(function(e){e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8"})(l||(l={}));var i=function(){return i=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},i.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var C=function(e,t){return!e||!e.length||!t?!1:e.some(function(r){return r.includes(t)})};function y(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r;for(r in t)e[r]=w(e[r])?y(e[r],t[r]):e[r]=t[r];return e}function w(e){return e!==null&&O(e,"Object")}function O(e,t){return toString.call(e)==="[object ".concat(t,"]")}function m(e){return O(e,"String")}function p(e){return typeof e=="function"}function U(e,t,r,n){return n?.startsWith("http://")||n?.startsWith("https://")?n:e&&m(t)?"".concat(t).concat(n):r&&m(r)?"".concat(r).concat(n):n}var f=new Map,P=function(e){return[e.method,e.url].join("&")},b=function(){function e(){}return e.prototype.addPending=function(t){this.removePending(t);var r=P(t);t.cancelToken=t.cancelToken||new h.CancelToken(function(n){f.has(r)||f.set(r,n)})},e.prototype.removeAllPending=function(){f.forEach(function(t){t&&p(t)&&t()}),f.clear()},e.prototype.removePending=function(t){var r=P(t);if(f.has(r)){var n=f.get(r);n&&n(r),f.delete(r)}},e.prototype.reset=function(){f=new Map},e}(),A=function(){function e(t){this.options=t,this.axiosInstance=h.create(t),this.setupInterceptors()}return e.prototype.createAxios=function(t){this.axiosInstance=h.create(t)},e.prototype.getTransform=function(){var t=this.options.transform;return t},e.prototype.getAxios=function(){return this.axiosInstance},e.prototype.configAxios=function(t){this.axiosInstance&&this.createAxios(t)},e.prototype.setHeader=function(t){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,t)},e.prototype.setupInterceptors=function(){var t=this,r=this.getTransform();if(r){var n=r.requestInterceptors,s=r.requestInterceptorsCatch,o=r.responseInterceptors,u=r.responseInterceptorsCatch,c=new b;this.axiosInstance.interceptors.request.use(function(a){return n&&p(n)&&(a=n(a,t.options)),a},void 0),s&&p(s)&&this.axiosInstance.interceptors.request.use(void 0,s),this.axiosInstance.interceptors.response.use(function(a){return a&&c.removePending(a.config),o&&p(o)&&(a=o(a)),a},void 0),u&&p(u)&&this.axiosInstance.interceptors.response.use(void 0,u)}},e.prototype.supportFormData=function(t){var r,n=t.headers||this.options.headers,s=n?.["Content-Type"]||n?.["content-type"];return s!==l.FORM_URLENCODED||!Reflect.has(t,"data")||((r=t.method)===null||r===void 0?void 0:r.toUpperCase())===v.GET?t:i(i({},t),{data:_.qs.stringify(t.data,{arrayFormat:"brackets"})})},e.prototype.get=function(t,r){return this.request(i(i({},t),{method:"GET"}),r)},e.prototype.post=function(t,r){return this.request(i(i({},t),{method:"POST"}),r)},e.prototype.put=function(t,r){return this.request(i(i({},t),{method:"PUT"}),r)},e.prototype.delete=function(t,r){return this.request(i(i({},t),{method:"DELETE"}),r)},e.prototype.request=function(t,r){var n=this,s=y(t),o=this.getTransform(),u=this.options.requestOptions,c=Object.assign({},u,r),a=o||{},q=a.beforeRequestHook,I=a.requestCatchHook,E=a.transformRequestHook;return q&&p(q)&&(s=q(s,c)),s.requestOptions=c,s=this.supportFormData(s),new Promise(function(j,x){n.axiosInstance.request(s).then(function(d){if(E&&p(E)){try{var F=E(d,c);j(F)}catch(H){x(H||new Error("Request data processing error"))}return}j(d)}).catch(function(d){if(I&&p(I)){x(I(d,c));return}x(d)})})},e}(),R={400:"\u8BF7\u6C42\u53C2\u6570\u9519\u8BEF",401:"\u7528\u6237\u672A\u6388\u6743\u6216\u6388\u6743\u5DF2\u8FC7\u671F",403:"\u8BBF\u95EE\u88AB\u7981\u6B62",404:"\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728",405:"\u8BF7\u6C42\u65B9\u6CD5\u4E0D\u5141\u8BB8",408:"\u8BF7\u6C42\u8D85\u65F6",500:"\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF",501:"\u670D\u52A1\u672A\u5B9E\u73B0",502:"\u7F51\u5173\u9519\u8BEF",503:"\u670D\u52A1\u4E0D\u53EF\u7528",504:"\u7F51\u5173\u8D85\u65F6",505:"HTTP\u7248\u672C\u4E0D\u652F\u6301"};function g(e,t){var r;if(e){if(!((r=e.data)===null||r===void 0)&&r.msg){T.ElMessage.error(e.data.msg);return}R[e.status]&&T.ElMessage.error(R[e.status])}}function D(e,t){if(!e)return t?"":{};var r=new Date().getTime();return{_t:r}}var S={transformRequestHook:function(e,t){var r=t.isReturnNativeResponse,n=t.isTransformResponse,s=n===void 0?!0:n;if(r)return e;if(!s)return e.data;var o=e.data;return o?o.result||o.data||o:null},beforeRequestHook:function(e,t){var r,n=t.apiUrl,s=t.joinPrefix,o=t.urlPrefix,u=t.joinTime,c=u===void 0?!0:u;s&&m(o)&&(e.url="".concat(o).concat(e.url)),n&&m(n)&&(e.url="".concat(n).concat(e.url)),e.url=U(s,o,n,e.url);var a=e.params||e.data||{};return((r=e.method)===null||r===void 0?void 0:r.toUpperCase())===v.GET?(a=Object.assign(a||{},D(c,!1)),e.params=a,e.data=void 0):(e.data=a,e.params=void 0),e},requestInterceptors:function(e,t){var r=t?.requestOptions||{},n=r.whiteList,s=n===void 0?[]:n,o=r.setToken,u=r.appId;if(!C(s,e.url)&&o&&p(p)){var c=o&&o(e);return c}return u&&(e.headers["Xi-App-Id"]=u),e},responseInterceptors:function(e){return e},responseInterceptorsCatch:function(e){var t=e||{},r=t.response;if(t.message,g(r),h.isCancel(e))T.ElMessage.error("\u8BF7\u6C42\u5DF2\u53D6\u6D88");else if(!r)return Promise.reject(new Error("Network error, please check your connection"));return Promise.reject(e)}};function M(e){return new A(y({timeout:30*1e3,headers:{"Content-Type":l.JSON},transform:S,requestOptions:{appId:"",whiteList:[],joinPrefix:!0,isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!0,joinTime:!1,urlPrefix:"",apiUrl:"",ignoreCancelToken:!0}},e||{}))}k.uironRequest=M})(this.VueUse=this.VueUse||{},elementPlus,axios,qs);
