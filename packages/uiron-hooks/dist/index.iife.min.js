(function(_,O,q,R){"use strict";var y;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"})(y||(y={}));var I;(function(e){e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8"})(I||(I={}));var i=function(){return i=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},i.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var j=function(e,t){return!e||!e.length||!t?!1:e.some(function(r){return r.includes(t)})};function x(e,t){e===void 0&&(e={}),t===void 0&&(t={});var r;for(r in t)e[r]=w(e[r])?x(e[r],t[r]):e[r]=t[r];return e}function w(e){return e!==null&&k(e,"Object")}function k(e,t){return toString.call(e)==="[object ".concat(t,"]")}function E(e){return k(e,"String")}function c(e){return typeof e=="function"}function U(e,t,r,n){return n?.startsWith("http://")||n?.startsWith("https://")?n:e&&E(t)?"".concat(t).concat(n):r&&E(r)?"".concat(r).concat(n):n}var d=new Map,C=function(e){return[e.method,e.url].join("&")},b=function(){function e(){}return e.prototype.addPending=function(t){this.removePending(t);var r=C(t);t.cancelToken=t.cancelToken||new q.CancelToken(function(n){d.has(r)||d.set(r,n)})},e.prototype.removeAllPending=function(){d.forEach(function(t){t&&c(t)&&t()}),d.clear()},e.prototype.removePending=function(t){var r=C(t);if(d.has(r)){var n=d.get(r);n&&n(r),d.delete(r)}},e.prototype.reset=function(){d=new Map},e}(),A=function(){function e(t){this.options=t,this.axiosInstance=q.create(t),this.setupInterceptors()}return e.prototype.createAxios=function(t){this.axiosInstance=q.create(t)},e.prototype.getTransform=function(){var t=this.options.transform;return t},e.prototype.getAxios=function(){return this.axiosInstance},e.prototype.configAxios=function(t){this.axiosInstance&&this.createAxios(t)},e.prototype.setHeader=function(t){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,t)},e.prototype.setupInterceptors=function(){var t=this,r=this.getTransform();if(r){var n=r.requestInterceptors,a=r.requestInterceptorsCatch,s=r.responseInterceptors,u=r.responseInterceptorsCatch,p=new b;this.axiosInstance.interceptors.request.use(function(o){var f,v,l,h=o.headers.ignoreCancelToken,m=h!==void 0?h:((f=o?.requestOptions)===null||f===void 0?void 0:f.ignoreCancelToken)!==void 0?(v=o?.requestOptions)===null||v===void 0?void 0:v.ignoreCancelToken:(l=t.options.requestOptions)===null||l===void 0?void 0:l.ignoreCancelToken;return!m&&p.addPending(o),n&&c(n)&&(o=n(o,t.options)),o},void 0),a&&c(a)&&this.axiosInstance.interceptors.request.use(void 0,a),this.axiosInstance.interceptors.response.use(function(o){return o&&p.removePending(o.config),s&&c(s)&&(o=s(o)),o},void 0),u&&c(u)&&this.axiosInstance.interceptors.response.use(void 0,u)}},e.prototype.supportFormData=function(t){var r,n=t.headers||this.options.headers,a=n?.["Content-Type"]||n?.["content-type"];return a!==I.FORM_URLENCODED||!Reflect.has(t,"data")||((r=t.method)===null||r===void 0?void 0:r.toUpperCase())===y.GET?t:i(i({},t),{data:R.qs.stringify(t.data,{arrayFormat:"brackets"})})},e.prototype.get=function(t,r){return this.request(i(i({},t),{method:"GET"}),r)},e.prototype.post=function(t,r){return this.request(i(i({},t),{method:"POST"}),r)},e.prototype.put=function(t,r){return this.request(i(i({},t),{method:"PUT"}),r)},e.prototype.delete=function(t,r){return this.request(i(i({},t),{method:"DELETE"}),r)},e.prototype.request=function(t,r){var n=this,a=x(t),s=this.getTransform(),u=this.options.requestOptions,p=Object.assign({},u,r),o=s||{},f=o.beforeRequestHook,v=o.requestCatchHook,l=o.transformRequestHook;return f&&c(f)&&(a=f(a,p)),a.requestOptions=p,a=this.supportFormData(a),new Promise(function(h,m){n.axiosInstance.request(a).then(function(T){if(l&&c(l)){try{var F=l(T,p);h(F)}catch(H){m(H||new Error("Request data processing error"))}return}h(T)}).catch(function(T){if(v&&c(v)){m(v(T,p));return}m(T)})})},e}(),P={400:"\u8BF7\u6C42\u53C2\u6570\u9519\u8BEF",401:"\u7528\u6237\u672A\u6388\u6743\u6216\u6388\u6743\u5DF2\u8FC7\u671F",403:"\u8BBF\u95EE\u88AB\u7981\u6B62",404:"\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728",405:"\u8BF7\u6C42\u65B9\u6CD5\u4E0D\u5141\u8BB8",408:"\u8BF7\u6C42\u8D85\u65F6",500:"\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF",501:"\u670D\u52A1\u672A\u5B9E\u73B0",502:"\u7F51\u5173\u9519\u8BEF",503:"\u670D\u52A1\u4E0D\u53EF\u7528",504:"\u7F51\u5173\u8D85\u65F6",505:"HTTP\u7248\u672C\u4E0D\u652F\u6301"};function D(e,t){var r;if(e){if(!((r=e.data)===null||r===void 0)&&r.msg){O.ElMessage.error(e.data.msg);return}P[e.status]&&O.ElMessage.error(P[e.status])}}function S(e,t){if(!e)return t?"":{};var r=new Date().getTime();return{_t:r}}var g={transformRequestHook:function(e,t){var r=t.isReturnNativeResponse,n=t.isTransformResponse,a=n===void 0?!0:n;if(r)return e;if(!a)return e.data;var s=e.data;return s?s.result||s.data||s:null},beforeRequestHook:function(e,t){var r,n=t.apiUrl,a=t.joinPrefix,s=t.urlPrefix,u=t.joinTime,p=u===void 0?!0:u;a&&E(s)&&(e.url="".concat(s).concat(e.url)),n&&E(n)&&(e.url="".concat(n).concat(e.url)),e.url=U(a,s,n,e.url);var o=e.params||e.data||{};return((r=e.method)===null||r===void 0?void 0:r.toUpperCase())===y.GET?(o=Object.assign(o||{},S(p,!1)),e.params=o,e.data=void 0):(e.data=o,e.params=void 0),e},requestInterceptors:function(e,t){var r=t?.requestOptions||{},n=r.whiteList,a=n===void 0?[]:n,s=r.setToken,u=r.appId;if(!j(a,e.url)&&s&&c(c)){var p=s&&s(e);return p}return u&&(e.headers["Xi-App-Id"]=u),e},responseInterceptors:function(e){return e},responseInterceptorsCatch:function(e){var t=e||{},r=t.response;if(t.message,D(r),q.isCancel(e))O.ElMessage.error("\u8BF7\u6C42\u5DF2\u53D6\u6D88");else if(!r)return Promise.reject(new Error("Network error, please check your connection"));return Promise.reject(e)}};function M(e){return new A(x({timeout:30*1e3,headers:{"Content-Type":I.JSON},transform:g,requestOptions:{appId:"",whiteList:[],joinPrefix:!0,isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!0,joinTime:!1,urlPrefix:"",apiUrl:"",ignoreCancelToken:!0}},e||{}))}_.uironRequest=M})(this.VueUse=this.VueUse||{},elementPlus,axios,qs);
